<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2025-10-13">

<title>pyronema_omphalodes – Fungi of Washington</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-d1b12f2568ecbe55642fee6aa00bd082.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Fungi of Washington</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../all_fungi.html"> 
<span class="menu-text">Browse All</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../foraging_map.html"> 
<span class="menu-text">Mushroom Collection (WA)</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#pyronema-omphalodes" id="toc-pyronema-omphalodes" class="nav-link active" data-scroll-target="#pyronema-omphalodes"><em>Pyronema omphalodes</em></a></li>
  <li><a href="#taxonomy-nomenclature" id="toc-taxonomy-nomenclature" class="nav-link" data-scroll-target="#taxonomy-nomenclature">1. Taxonomy &amp; Nomenclature</a></li>
  <li><a href="#morphology-identification" id="toc-morphology-identification" class="nav-link" data-scroll-target="#morphology-identification">2. Morphology &amp; Identification</a></li>
  <li><a href="#distribution-habitat-in-washington" id="toc-distribution-habitat-in-washington" class="nav-link" data-scroll-target="#distribution-habitat-in-washington">3. Distribution &amp; Habitat in Washington</a></li>
  <li><a href="#seasonality-phenology" id="toc-seasonality-phenology" class="nav-link" data-scroll-target="#seasonality-phenology">4. Seasonality &amp; Phenology</a></li>
  <li><a href="#ecology-role" id="toc-ecology-role" class="nav-link" data-scroll-target="#ecology-role">5. Ecology &amp; Role</a></li>
  <li><a href="#conservation-abundance-threats" id="toc-conservation-abundance-threats" class="nav-link" data-scroll-target="#conservation-abundance-threats">6. Conservation, Abundance &amp; Threats</a></li>
  <li><a href="#use-ethnobiology-toxicology" id="toc-use-ethnobiology-toxicology" class="nav-link" data-scroll-target="#use-ethnobiology-toxicology">7. Use / Ethnobiology / Toxicology</a></li>
  <li><a href="#references-further-reading" id="toc-references-further-reading" class="nav-link" data-scroll-target="#references-further-reading">8. References / Further Reading</a></li>
  <li><a href="#images-illustrations" id="toc-images-illustrations" class="nav-link" data-scroll-target="#images-illustrations">9. Images / Illustrations</a></li>
  <li><a href="#other-notes-observations" id="toc-other-notes-observations" class="nav-link" data-scroll-target="#other-notes-observations">10. Other Notes &amp; Observations</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
</div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">October 13, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="pyronema-omphalodes" class="level1" style="text-align; margin-bottom: 1em;">
<h1><em>Pyronema omphalodes</em></h1>
<p><strong>Date:</strong> October 13, 2025</p>
</section>
<hr>
<section id="taxonomy-nomenclature" class="level2">
<h2 class="anchored" data-anchor-id="taxonomy-nomenclature">1. Taxonomy &amp; Nomenclature</h2>
<ul>
<li><strong>Scientific Name (current):</strong> <em>Pyronema omphalodes</em></li>
<li><strong>Synonyms / Former Names:</strong> <em>Pyronema confluens</em>, <em>Aleuria omphalodes</em>, <em>Humaria omphalodes</em>, <em>Peziza confluens</em>, <em>Peziza omphalodes</em>, <em>Peziza rosella</em>, <em>Pyronema marianum</em>, <em>Tapesia omphalodes</em></li>
<li><strong>Common Name(s):</strong> Does not have a widely recognized common name</li>
<li><strong>Taxonomic Authority / Citation:</strong> Does not have a widely recognized common name Taxonomic authority: First discovered by Pierre Bulliard in 1790 and named <em>Peziza omphalodes</em>. In 1870, Leopold Fuckel built on Bulliard’s description, and the species was renamed <em>Pyronema omphalodes</em>.</li>
<li><strong>Higher Classification (Kingdom / Phylum / Class / Order / Family):</strong> Kingdom Fungi, Phylum Ascomycota, Class Pezizomycetes, Order Pezizales, Family Pyronemataceae</li>
</ul>
<hr>
</section>
<section id="morphology-identification" class="level2">
<h2 class="anchored" data-anchor-id="morphology-identification">2. Morphology &amp; Identification</h2>
<ul>
<li><strong>Fruiting Body Description:</strong> salmon pink to bright orange, bumpy, growing in dense clumps disc- or cushion- shaped, hairless fruiting body</li>
<li><strong>Cap / Pileus Characteristics:</strong> No cap</li>
<li><strong>Gills / Pores / Spines / Teeth / Etc.:</strong> N/A</li>
<li><strong>Stipe / Stem / Attachment / Ring / Volva / Base:</strong> No stipe</li>
<li><strong>Spore Print Color:</strong> White</li>
<li><strong>Microscopic Features (if available):</strong> Spores smooth, ellipsoid, and lack lipid droplets</li>
<li><strong>Other Diagnostic Characters:</strong> Grows in recently burned areas</li>
<li><strong>Similar Species / Potential Confusions:</strong> May be confused with other species within the genus such as <em>P. domesticum</em>, but can be differentiated from <em>P. omphalodes</em> because it has larger spores and marginal hairs.</li>
</ul>
<hr>
</section>
<section id="distribution-habitat-in-washington" class="level2">
<h2 class="anchored" data-anchor-id="distribution-habitat-in-washington">3. Distribution &amp; Habitat in Washington</h2>
<ul>
<li><p><strong>Range (counties or regions):</strong> Primarily in Western Washington with a few scattered sightings in the east</p></li>
<li><p><strong>Geographic Distribution in WA:</strong> Found in previously forested areas after burns, and in areas popular for camping</p></li>
<li><p><strong>Elevation Range:</strong> N/A (not enough info)</p></li>
<li><p><strong>Habitat Types / Substrate Preferences:</strong> <em>Pyronema omphalodes</em> is typically found in post-burn forests or intact forests with campfires/burn pits that have burnt woody residue. They can also sometimes be found in greenhouses on steamed soil. The fungus feeds on burned soil and woody debris, such as charcoal and ash.</p></li>
<li><p><strong>Host Associations (if applicable):</strong> No host</p></li>
</ul>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Pyronema_omphalodes_files/figure-html/Distribution-map-WA-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<hr>
</section>
<section id="seasonality-phenology" class="level2">
<h2 class="anchored" data-anchor-id="seasonality-phenology">4. Seasonality &amp; Phenology</h2>
<ul>
<li><p><strong>Months of Fruiting in WA:</strong> <em>Pyronema omphalodes</em> can be seen fruiting most often in spring, as well as in August and September. The late summer sightings are the result of post-forest fire fruiting, which tends to occur about 1-2 weeks after the original burn.</p></li>
<li><p><strong>Seasonal Notes:</strong> <em>Pyronema omphalodes</em> peak fruiting times tend to follow forest fire temporal patterns. The fungus tends to only appear in areas where the fire was most intense, resulting in small, congested masses at these microsites.</p></li>
</ul>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Pyronema_omphalodes_files/figure-html/Seasonality-plot-WA-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<hr>
</section>
<section id="ecology-role" class="level2">
<h2 class="anchored" data-anchor-id="ecology-role">5. Ecology &amp; Role</h2>
<ul>
<li><strong>Ecological Function:</strong> saprotrophic fungus</li>
<li><strong>Substrate / Decomposition Role:</strong> Found in post fire environments on burned soils. They play a key role in fire succession however this role is not fully understood. There is still ongoing research regarding how these Fungi are getting their carbon however there is strong evidence to suggest that they are using pyrogenic organic matter. By decomposing pyrogenic organic matter they are allowing this carbon to be available for plants whereas it would have been locked up otherwise. This allows for reintegration of other species of plants and animals after a fire because of increased nutrient availability. They also help with soil aggregation which is crucial after a fire because it prevents erosion.</li>
<li><strong>Interactions:</strong> N/A (no information)</li>
<li><strong>Environmental Sensitivity / Indicators:</strong> Indicates a recently burned area</li>
</ul>
<hr>
</section>
<section id="conservation-abundance-threats" class="level2">
<h2 class="anchored" data-anchor-id="conservation-abundance-threats">6. Conservation, Abundance &amp; Threats</h2>
<ul>
<li><strong>Abundance / Rarity in WA:</strong> Not abundant under normal circumstances, but it becomes extremely abundant and dominant in the soil fungal community following a fire. This species dominates soil fungal communities within weeks to months after fire. It is a pyrophilous fungi</li>
<li><strong>Conservation Status (state, federal, red list):</strong> Ranked as “Not of concern,” this species is not threatened nor is it a concern</li>
<li><strong>Threats / Pressures:</strong> Loss of habitat. Since <em>Pyronema omphalodes</em> has a very specific habitat for growth conditions, if post-fire environments and fire frequency was reduced, there would be less available habitat for <em>Pyronema omphalodes</em> to grow in.</li>
<li><strong>Management or Monitoring Notes:</strong> <em>Pyronema</em> are not a cultivated species or invasive in environments; they’re lifespans are short-lived and coincide with post-fire recovery. It’d be best to ensure their survival in a post-fire environment due to their abilities to aggregate the soil, decompose charred material, sequester carbon, and capture transient nitrogen pulses after fire.</li>
</ul>
<hr>
</section>
<section id="use-ethnobiology-toxicology" class="level2">
<h2 class="anchored" data-anchor-id="use-ethnobiology-toxicology">7. Use / Ethnobiology / Toxicology</h2>
<ul>
<li><strong>Edibility / Toxicity:</strong> There’s no definitive answer on whether or not to eat <em>Pyronema omphalodes</em>, but most answers lead to no. They are not poisonous, but not recommended for consumption. While not poisonous to humans, there is no extensive research on the toxicology of <em>P. omphalodes</em>, so the toxicity to other organisms is unknown.</li>
<li><strong>Traditional / Cultural Uses:</strong> Unknown</li>
<li><strong>Medicinal / Bioactive Compounds:</strong> Mycrosporine compounds present: mycosporine glutamine (helps promote cell proliferation and repair skin damage from photoaging), normycosporine glutamine, and glucosylmycosporine glutaminol. While these specific compounds benefit the Fungi, there’s no evidence that they benefit humans.</li>
<li><strong>Cautions / Warnings:</strong> When looking for <em>P. omphalodes</em>, be cautious when entering areas with recent fire activity. Live embers or damaged snags could pose a fatal threat to your well-being.</li>
</ul>
<hr>
</section>
<section id="references-further-reading" class="level2">
<h2 class="anchored" data-anchor-id="references-further-reading">8. References / Further Reading</h2>
<ul>
<li>Key Literature Sources: Filialuna, O., &amp; Cripps, C. (2021). Evidence that pyrophilous fungi aggregate soil after forest fire. Forest Ecology and Management, 498, 119579. <a href="https://doi.org/10.1016/j.foreco.2021.119579" class="uri">https://doi.org/10.1016/j.foreco.2021.119579</a></li>
<li>Fischer, M. S., Stark, F. G., Berry, T. D., Zeba, N., Whitman, T., &amp; Traxler, M. F. (2021). Pyrolyzed Substrates Induce Aromatic Compound Metabolism in the Post-fire Fungus, Pyronema domesticum. Frontiers in Microbiology, 12. <a href="https://doi.org/10.3389/fmicb.2021.729289" class="uri">https://doi.org/10.3389/fmicb.2021.729289</a></li>
<li>Field Guides / Online Resources:<br>
Pyronema omphalodes - mushrooms of Eastern Texas. (2019). Texas Mushrooms. <a href="https://www.texasmushrooms.org/en/pyronema_omphalodes.htm" class="uri">https://www.texasmushrooms.org/en/pyronema_omphalodes.htm</a></li>
<li>Pyronema omphalodes. (2025). INaturalist. <a href="https://www.inaturalist.org/taxa/384023-Pyronema-omphalodes#status-tab" class="uri">https://www.inaturalist.org/taxa/384023-Pyronema-omphalodes#status-tab</a></li>
<li>Pyronema omphalodes. (2025). Englishfungi.org. <a href="https://www.englishfungi.org/Species/Pyronema%20omphalodes" class="uri">https://www.englishfungi.org/Species/Pyronema%20omphalodes</a></li>
<li>Pyronema omphalodes (Bull.) Fuckel 1870 - Encyclopedia of Life. (2025). Eol.org. <a href="https://www.eol.org/pages/160287" class="uri">https://www.eol.org/pages/160287</a></li>
<li>Pyronema Omphalodes. (2019). Pyronema Omphalodes. Google Docs. <a href="https://docs.google.com/spreadsheets/d/1169WIyBhetaam7bxmiZ5mzEqXbczuZbP4UXUJC3TJvA/edit?gid=0#gid=0" class="uri">https://docs.google.com/spreadsheets/d/1169WIyBhetaam7bxmiZ5mzEqXbczuZbP4UXUJC3TJvA/edit?gid=0#gid=0</a></li>
<li>Herbarium / Specimen Records (if applicable): N/A</li>
</ul>
<hr>
</section>
<section id="images-illustrations" class="level2">
<h2 class="anchored" data-anchor-id="images-illustrations">9. Images / Illustrations</h2>
<ul>
<li><p><strong>Fruiting Body Photos:</strong></p>
<p><img src=".png" class="img-fluid"><br>
</p>
<p style="font-size:0.8em; text-align:center;">
</p><p><em>Pyronema omphalodes</em> from above. Bright orange and lumpy; Photo credit: M. Wood</p>
<p></p>
<p><img src=".png" class="img-fluid"><br>
</p>
<p style="font-size:0.8em; text-align:center;">
</p><p>The mycelial network of <em>Pyronema omphalodes</em> found by turning over the charcoal it was growing on; Photo credit: F.D. Springwood</p>
<p></p></li>
<li><p><strong>Habitat Photo:</strong></p>
<p><img src=".png" class="img-fluid"><br>
</p>
<p style="font-size:0.8em; text-align:center;">
</p><p>A post-fire area with burned wood and soil; Photo credit: K. Bucko</p>
<p></p></li>
<li><p><strong>Microscopy Photo (if available):</strong></p>
<p><img src=".png" class="img-fluid"><br>
</p>
<p style="font-size:0.8em; text-align:center;">
</p><p><em>Pyronema omphalodes</em> microscopy shows the smooth, ovular spores, Photo credit: Y. Uzun</p>
<p></p></li>
</ul>
<hr>
</section>
<section id="other-notes-observations" class="level2">
<h2 class="anchored" data-anchor-id="other-notes-observations">10. Other Notes &amp; Observations</h2>
<ul>
<li><strong>Questions / Uncertainties:</strong> Many mycologists and fire ecologists are studying <em>P. omphalodes</em> to figure out where they are getting their carbon, since post-fire soil lacks tends to lack it. Mycologists hypothesize that pyrolyzed organic matter is the carbon pool used for <em>P. omphalodes</em> to grow.</li>
<li><strong>Fun facts:</strong> The mycelium can bind ash and soil together, helping to reduce erosion in burned areas.</li>
</ul>
<hr>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>